{% extends 'layout.html' %}
{% block content %}
<h2>Clientes</h2>
<form method="post" action="{{ url_for('clientes.nuevo_cliente') }}">
  <select name="tipoDocumento" required>
    <option value="" disabled selected>Seleccione tipo de documento</option>
    <option value="CC">Cédula de ciudadanía</option>
    <option value="CE">Cédula de extranjería</option>
    <option value="TI">Tarjeta de identidad</option>
    <option value="PA">Pasaporte</option>
    <option value="NIT">NIT</option>
</select>
  <input name="numeroDocumento" placeholder="Número Doc">
  <input name="nombre" placeholder="Nombre">
  <input name="apellido" placeholder="Apellido">
  <input name="correo" placeholder="Correo">
  <input name="celular" placeholder="Celular">
  <button type="submit">Agregar</button>
</form>

<!-- Tabla de clientes -->
<h3>Clientes registrados</h3>
<table border="1" cellpadding="6" cellspacing="0">
  <tr>
    <th>ID</th>
    <th>Tipo Doc</th>
    <th>Número Doc</th>
    <th>Nombre</th>
    <th>Apellido</th>
    <th>Correo</th>
    <th>Celular</th>
    <th>Fecha Registro</th>
    <th>Puntos</th>
  </tr>
  {% for c in clientes %}
  <tr>
    <td>{{ c.idCliente }}</td>
    <td>{{ c.tipoDocumento }}</td>
    <td>{{ c.numeroDocumento }}</td>
    <td>{{ c.nombre }}</td>
    <td>{{ c.apellido }}</td>
    <td>{{ c.correo or '-' }}</td>
    <td>{{ c.celular or '-' }}</td>
    <td>{{ c.fechaRegistro.strftime('%Y-%m-%d') if c.fechaRegistro else '-' }}</td>
    <td>{{ c.puntosAcumulados or 0 }}</td>
  </tr>
  {% else %}
  <tr>
    <td colspan="9" style="text-align:center;">No hay clientes registrados</td>
  </tr>
  {% endfor %}
</table>

{% endblock %}